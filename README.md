# VersaGuard-Firewall
NIS3302信息安全科技创新课程大作业——基于内核模块的包过滤防火墙

## Compile
```shell
make
```

## Usage
- 命令行参数模式

  ```shell
  ./configure -o [option] <parameters>
  ```

  - `add`：添加规则，后接九个参数，分别表示协议类型(tcp/udp/icmp/all)，源IP，目标IP，源端口，目标端口，开始时间(格式为带引号的"YYYY-MM-DD HH:MM:SS")，结束时间，执行动作(0拦截/1通过)，备注

  - `del`：删除规则，后接一个参数表示要删除的规则的序号

  - `upd`：修改规则，后接三个参数，分别表示要修改的规则的序号，要修改哪一项参数(ptc/sip/dip/spt/dpt/stm/etm/act/rmk)，修改后的结果

  - `imp`：导入规则，后接一个参数表示要导入的规则文件路径

  - `exp`：导出规则，后接一个参数表示要导出的规则文件名

  - `rule`：打印规则

  - `write`：写规则到设备文件

  - `help`：打印使用说明

- 交互模式

  ```shell
  ./configure
  ```

    - `0`：退出程序


    - `1`：添加规则


    - `2`：删除规则


    - `3`：修改规则


    - `4`：导入规则


    - `5`：导出规则


    - `6`：打印规则


    - `7`：写规则到设备文件


    - `8`：使用说明


## Todo

- 美化命令行工具的提示显示，优化用户体验
- 优化工具函数细节，如验证时间的正确性
